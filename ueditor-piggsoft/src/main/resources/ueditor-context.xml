<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

	<bean id="actionEnter" class="com.piggsoft.ueditor.ActionEnter"
		scope="prototype">
		<property name="configManager" ref="configManager"></property>
		<property name="imageHunter" ref="imageHunter"></property>
		<property name="imageUploader" ref="imageUploader"></property>
		<property name="scrawlUploader" ref="scrawlUploader"></property>
		<property name="videoUploader" ref="videoUploader"></property>
		<property name="fileUploader" ref="fileUploader"></property>
		<property name="fileListManager" ref="fileListManager"></property>
		<property name="imageListManager" ref="imageListManager"></property>
	</bean>

	<bean id="configManager" class="com.piggsoft.ueditor.ConfigManager">
		<property name="originalPath" value="classpath:config.json"></property>
		<property name="rootPath" value="E:/ApplicationServer/apache-tomcat-7.0.50/webapps"></property>
	</bean>


	<bean id="fileListManager" class="com.piggsoft.ueditor.hunter.impl.FileListManager">
		<property name="configManager" ref="configManager"></property>
	</bean>
	
	<bean id="imageListManager" class="com.piggsoft.ueditor.hunter.impl.ImageListManager">
		<property name="configManager" ref="configManager"></property>
	</bean>
	
	<bean id="imageHunter" class="com.piggsoft.ueditor.hunter.ImageHunter">
		<property name="configManager" ref="configManager"></property>
		<property name="storageManager" ref="storageManager"></property>
	</bean>
	
	<bean id="imageUploader" class="com.piggsoft.ueditor.upload.impl.ImageUploader">
		<property name="configManager" ref="configManager"></property>
		<property name="base64Uploader" ref="base64Uploader"></property>
		<property name="binaryUploader" ref="binaryUploader"></property>
	</bean>
	<bean id="scrawlUploader" class="com.piggsoft.ueditor.upload.impl.ScrawlUploader">
		<property name="configManager" ref="configManager"></property>
		<property name="base64Uploader" ref="base64Uploader"></property>
		<property name="binaryUploader" ref="binaryUploader"></property>
	</bean>
	<bean id="videoUploader" class="com.piggsoft.ueditor.upload.impl.VideoUploader">
		<property name="configManager" ref="configManager"></property>
		<property name="base64Uploader" ref="base64Uploader"></property>
		<property name="binaryUploader" ref="binaryUploader"></property>
	</bean>
	<bean id="fileUploader" class="com.piggsoft.ueditor.upload.impl.FileUploader">
		<property name="configManager" ref="configManager"></property>
		<property name="base64Uploader" ref="base64Uploader"></property>
		<property name="binaryUploader" ref="binaryUploader"></property>
	</bean>

	<bean id="base64Uploader" class="com.piggsoft.ueditor.upload.Base64Uploader">
		<property name="storageManager" ref="storageManager"></property>
	</bean>
	<bean id="binaryUploader" class="com.piggsoft.ueditor.upload.BinaryUploader">
		<property name="storageManager" ref="storageManager"></property>
	</bean>

	<bean id="storageManager" class="com.piggsoft.ueditor.upload.StorageManager">
		<property name="storageSuccessCallBack" ref="storageSuccessCallBack"></property>
	</bean>

	<bean id="storageSuccessCallBack" class="com.piggsoft.ueditor.DefaultStorageSuccessCallBack"></bean>

</beans>
